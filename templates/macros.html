{% macro package_table(packages) %}
<table class="data-list">
    <thead>
        <tr class="list-header">
            <th>Name</th>
            <th>State</th>
            <th>Task ID</th>
            <th>Started</th>
        </tr>
    </thead>
    <tbody>

    {% for package in packages %}
    {% set last_build = package.last_build %}

    <tr class="row-odd">
        <td>
            <a href="{{ toplink }}/package/{{ package.name }}.html">{{ package.name }}</a>
        </td>
        <td>
            <div class="hidden">{{ package.state_string }}</div>
            <img src="{{ toplink }}/static/images/{{ package.state_string }}.png"
                 title="{{ package.state_string }}" alt="{{ package.state_string }}"/>
        </td>
        {% if package.state_string != 'unresolved' %}
        <td>
            <a href="{{ koji_weburl }}/taskinfo?taskID={{ last_build.task_id }}">
                {{ last_build.task_id }}
            </a>
        </td>
        <td>
            {{ last_build.started | date }}
        </td>
        {% else %}
        <td colspan="2"/>
        {% endif %}
    </tr>
    {% endfor %}
    </tbody>
</table>
{% endmacro %}
{% macro depchange_table(changes) %}
<table class="nested-data-list" style="width:100%">
    {% for change in changes[:10] %}
    <tr>
        <td>{{ change.dep_name }}</td>
        <td>{{ change.prev_dep_evr or '' }}</td>
        <td>
            {% if change.prev_dep_evr > change.curr_dep_evr %}
            &lt;&lt;&lt;
            {% else %}
            &gt;&gt;&gt;
            {% endif %}
        </td>
        <td>{{ change.curr_dep_evr or '' }}</td>
    </tr>
    {% if loop.index == 10 %}
    <tr><td colspan="4">...</td></tr>
    {% endif %}
    {% endfor %}
</table>
{% endmacro %}
